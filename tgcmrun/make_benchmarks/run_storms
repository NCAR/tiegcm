#!/bin/tcsh
#
# Make tiegcm storm case benchmark runs 
# Dec2006, Nov2003, WHI2008, Jul2000 (heelis_gpi and weimer_imf)
#
# (This script will override environment settings for TGCMTEMP and 
#  TIEGCM_ROOT as used by tgcmrun)
#
# Shell vars:
#
# home:      Base directory (usually cwd)
# modelroot: Model root directory (containing src/, scripts/, tgcmrun/, etc)
# tgcmrun:   Path to tgcmrun command (python run code)
# queue:     LSF queue, if needed
# submit:    Submit job only if submit=yes (will make scripts)
#
 set home      = /glade/p/hao/tgcm/tiegcm_benchmarks
 set modelroot = $home/tiegcm_trunk
 set tgcmrun   = $home/tiegcm_trunk/tgcmrun/tgcmrun
 set queue     = regular
 set submit    = yes

 set res50 = 0
 set res25 = 1

#
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
if (! $res50) then
  echo Not doing res5.0
  goto do25
endif
#
# TIEGCM 5.0-deg resolution: 
#
 set res = 5.0                     # Model resolution (degrees horizontal)
 set model     = tiegcm_res${res}  # Model name and resolution
 set benchmark = ${model}_storms   # Benchmark group (seasons, storms, climatology)
 set stdoutdir = $home/$benchmark  # Path to receive stdout files
 set execdir   = $home/$benchmark  # Execution directory
 set histdir   = ../hist           # History directory (if not abs path, then relative to execdir)
 
 set runname = dec2006_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = dec2006_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = nov2003_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = nov2003_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = whi2008_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = whi2008_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir

 set runname = jul2000_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir

 set runname = jul2000_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
# 
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
do25:
if (! $res25) then
  echo Not doing res2.5
  exit
endif
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
#
# TIEGCM 2.5-deg resolution:
#
 set res = 2.5                     # Model resolution (degrees horizontal)
 set model     = tiegcm_res${res}  # Model name and resolution
 set benchmark = ${model}_storms   # Benchmark group (seasons, storms, climatology)
 set stdoutdir = $home/$benchmark  # Path to receive stdout files
 set execdir   = $home/$benchmark  # Execution directory
 set histdir   = ../hist           # History directory (if not abs path, then relative to execdir)
 
 set runname = dec2006_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 set runname = dec2006_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = nov2003_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 set runname = nov2003_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 
 set runname = whi2008_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir
 set runname = whi2008_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir -step 15

 set runname = jul2000_heelis_gpi ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir -step 15
 set runname = jul2000_weimer_imf ; set case = ${model}_${runname}
 $tgcmrun -q $queue -run_name $runname -model_name tiegcm -model_res $res -model_root $modelroot \
   -submit $submit -stdout_dir $stdoutdir/$case/stdout -execdir $execdir/$case/exec -hist_dir $histdir -step 10

#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
